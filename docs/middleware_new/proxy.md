<!-- Code generated by gomarkdoc. DO NOT EDIT -->

---
id: proxy
---


# proxy

```go
import "github.com/gofiber/fiber/v3/middleware/proxy"
```

## Index

- [Variables](<#variables>)
- [func Balancer\(config Config\) fiber.Handler](<#Balancer>)
- [func BalancerForward\(servers \[\]string, clients ...\*fasthttp.Client\) fiber.Handler](<#BalancerForward>)
- [func Do\(c fiber.Ctx, addr string, clients ...\*fasthttp.Client\) error](<#Do>)
- [func DoDeadline\(c fiber.Ctx, addr string, deadline time.Time, clients ...\*fasthttp.Client\) error](<#DoDeadline>)
- [func DoRedirects\(c fiber.Ctx, addr string, maxRedirectsCount int, clients ...\*fasthttp.Client\) error](<#DoRedirects>)
- [func DoTimeout\(c fiber.Ctx, addr string, timeout time.Duration, clients ...\*fasthttp.Client\) error](<#DoTimeout>)
- [func DomainForward\(hostname, addr string, clients ...\*fasthttp.Client\) fiber.Handler](<#DomainForward>)
- [func Forward\(addr string, clients ...\*fasthttp.Client\) fiber.Handler](<#Forward>)
- [func WithClient\(cli \*fasthttp.Client\)](<#WithClient>)
- [type Config](<#Config>)


## Variables

<a name="ConfigDefault"></a>ConfigDefault is the default config

```go
var ConfigDefault = Config{
    Next:                 nil,
    ModifyRequest:        nil,
    ModifyResponse:       nil,
    Timeout:              fasthttp.DefaultLBClientTimeout,
    KeepConnectionHeader: false,
}
```

<a name="Balancer"></a>
## func Balancer

```go
func Balancer(config Config) fiber.Handler
```

Balancer creates a load balancer among multiple upstream servers

<a name="BalancerForward"></a>
## func BalancerForward

```go
func BalancerForward(servers []string, clients ...*fasthttp.Client) fiber.Handler
```

BalancerForward Forward performs the given http request with round robin algorithm to server and fills the given http response. This method will return an fiber.Handler

<a name="Do"></a>
## func Do

```go
func Do(c fiber.Ctx, addr string, clients ...*fasthttp.Client) error
```

Do performs the given http request and fills the given http response. This method can be used within a fiber.Handler

<a name="DoDeadline"></a>
## func DoDeadline

```go
func DoDeadline(c fiber.Ctx, addr string, deadline time.Time, clients ...*fasthttp.Client) error
```

DoDeadline performs the given request and waits for response until the given deadline. This method can be used within a fiber.Handler

<a name="DoRedirects"></a>
## func DoRedirects

```go
func DoRedirects(c fiber.Ctx, addr string, maxRedirectsCount int, clients ...*fasthttp.Client) error
```

DoRedirects performs the given http request and fills the given http response, following up to maxRedirectsCount redirects. When the redirect count exceeds maxRedirectsCount, ErrTooManyRedirects is returned. This method can be used within a fiber.Handler

<a name="DoTimeout"></a>
## func DoTimeout

```go
func DoTimeout(c fiber.Ctx, addr string, timeout time.Duration, clients ...*fasthttp.Client) error
```

DoTimeout performs the given request and waits for response during the given timeout duration. This method can be used within a fiber.Handler

<a name="DomainForward"></a>
## func DomainForward

```go
func DomainForward(hostname, addr string, clients ...*fasthttp.Client) fiber.Handler
```

DomainForward performs an http request based on the given domain and populates the given http response. This method will return an fiber.Handler

<a name="Forward"></a>
## func Forward

```go
func Forward(addr string, clients ...*fasthttp.Client) fiber.Handler
```

Forward performs the given http request and fills the given http response. This method will return an fiber.Handler

<a name="WithClient"></a>
## func WithClient

```go
func WithClient(cli *fasthttp.Client)
```

WithClient sets the global proxy client. This function should be called before Do and Forward.

<a name="Config"></a>
## type Config

Config defines the config for middleware.

```go
type Config struct {
    // Next defines a function to skip this middleware when returned true.
    //
    // Optional. Default: nil
    Next func(c fiber.Ctx) bool

    // ModifyRequest allows you to alter the request
    //
    // Optional. Default: nil
    ModifyRequest fiber.Handler

    // ModifyResponse allows you to alter the response
    //
    // Optional. Default: nil
    ModifyResponse fiber.Handler

    // tls config for the http client.
    TLSConfig *tls.Config

    // Client is custom client when client config is complex.
    // Note that Servers, Timeout, WriteBufferSize, ReadBufferSize, TLSConfig
    // and DialDualStack will not be used if the client are set.
    Client *fasthttp.LBClient

    // Servers defines a list of <scheme>://<host> HTTP servers,
    //
    // which are used in a round-robin manner.
    // i.e.: "https://foobar.com, http://www.foobar.com"
    //
    // Required
    Servers []string

    // Timeout is the request timeout used when calling the proxy client
    //
    // Optional. Default: 1 second
    Timeout time.Duration

    // Per-connection buffer size for requests' reading.
    // This also limits the maximum header size.
    // Increase this buffer if your clients send multi-KB RequestURIs
    // and/or multi-KB headers (for example, BIG cookies).
    ReadBufferSize int

    // Per-connection buffer size for responses' writing.
    WriteBufferSize int

    // KeepConnectionHeader keeps the "Connection" header when set to true.
    //
    // Optional. Default: false
    KeepConnectionHeader bool

    // Attempt to connect to both ipv4 and ipv6 host addresses if set to true.
    //
    // By default client connects only to ipv4 addresses, since unfortunately ipv6
    // remains broken in many networks worldwide :)
    //
    // Optional. Default: false
    DialDualStack bool
}
```

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
